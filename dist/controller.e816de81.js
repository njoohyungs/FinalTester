function e(e){return e&&e.__esModule?e.default:e}var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new E(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return j()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var c=b(o,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function d(){}function h(){}function p(){}var f={};f[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(O([])));v&&v!==t&&n.call(v,i)&&(f=v);var _=p.prototype=d.prototype=Object.create(f);function m(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!function r(i,a,o,c){var s=l(e[i],e,a);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,c)}),(function(e){r("throw",e,o,c)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,c)}))}c(s.arg)}(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=_.constructor=p,p.constructor=h,h.displayName=c(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},m(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new y(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},m(_),c(_,o,"Generator"),_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}({});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}const n=async function(e,t){try{const r=t?fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}):fetch(e),i=await Promise.race([r,(n=10,new Promise((function(e,t){setTimeout((function(){t(new Error("Request took too long! Timeout after ".concat(n," second")))}),1e3*n)})))]),a=await i.json();if(!i.ok)throw new Error("".concat(a.message," (").concat(i.status,")"));return a}catch(e){throw e}var n};function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={recipe:{},search:{query:"",results:[],page:1,resultsPerPage:10},bookmarks:[]},c=function(e){const{recipe:t}=e.data;return i({id:t.id,title:t.title,publisher:t.publisher,sourceUrl:t.source_url,image:t.image_url,servings:t.servings,cookingTime:t.cooking_time,ingredients:t.ingredients},t.key&&{key:t.key})},s=function(e=o.search.page){o.search.page=e;const t=(e-1)*o.search.resultsPerPage,n=e*o.search.resultsPerPage;return o.search.results.slice(t,n)},l=function(){localStorage.setItem("bookmarks",JSON.stringify(o.bookmarks))},u=function(e){o.bookmarks.push(e),e.id===o.recipe.id&&(o.recipe.bookmarked=!0),l()};!function(){const e=localStorage.getItem("bookmarks");e&&(o.bookmarks=JSON.parse(e))}();var d=null;var h=e(function(){return d||(d=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return(""+e[0]).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}return"/"}()),d}()+"icons.c781f215.svg");class p{constructor(){var e,t,n;n=void 0,(t="_data")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}render(e,t=!0){if(!e||Array.isArray(e)&&0===e.length)return this.renderError();this._data=e;const n=this._generateMarkup();if(!t)return n;this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",n)}update(e){this._data=e;const t=this._generateMarkup(),n=document.createRange().createContextualFragment(t),r=Array.from(n.querySelectorAll("*")),i=Array.from(this._parentElement.querySelectorAll("*"));r.forEach((e,t)=>{var n;const r=i[t];e.isEqualNode(r)||""===(null===(n=e.firstChild)||void 0===n?void 0:n.nodeValue.trim())||(r.textContent=e.textContent),e.isEqualNode(r)||Array.from(e.attributes).forEach(e=>r.setAttribute(e.name,e.value))})}_clear(){this._parentElement.innerHTML=""}renderSpinner(){const e='\n      <div class="spinner">\n        <svg>\n          <use href="'.concat(h,'#icon-loader"></use>\n        </svg>\n      </div>\n    ');this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",e)}renderError(e=this._errorMessage){const t='\n      <div class="error">\n        <div>\n          <svg>\n            <use href="'.concat(h,'#icon-alert-triangle"></use>\n          </svg>\n        </div>\n        <p>').concat(e,"</p>\n      </div>\n    ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}renderMessage(e=this._message){const t='\n      <div class="message">\n        <div>\n          <svg>\n            <use href="'.concat(h,'#icon-smile"></use>\n          </svg>\n        </div>\n        <p>').concat(e,"</p>\n      </div>\n    ");this._clear(),this._parentElement.insertAdjacentHTML("afterbegin",t)}}function f(e,t,n,r,i){const a=[2,3,5];if(!0===i)for(let t=3;t*t<=e;t+=2)e%t==0&&a.push(t);let o=0,c=1,s=e,l=t;for(;o<=a.length;)s%a[o]==0&&l%a[o]==0?(c*=a[o],s/=a[o],l/=a[o]):o++;return function(e,t,n,r){return 1===e&&1===t?""+(n=`${r}${(parseInt(n)+1).toString()}`):0===t?`${r}${n}`:"0"==n?`${r}${t}/${e}`:`${r}${n} ${t}/${e}`}(l,s,n,r)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=e((function(e){let t;if(e<0?(e=Math.abs(e),t="-"):t="",void 0===e)return"Your input was undefined.";if(isNaN(e))return`"${e}" is not a number.`;if(1e16==e)return t+"9999999999999999";if(e>1e16)return"Too many digits in your integer to maintain IEEE 754 Floating Point conversion accuracy.";if(Number.isInteger(e))return`${t}${e}`;if(e<1e-6)return"0";const n=e.toString(),r=n.split(".");let i,a=r[0];if("0"==i&&"0"!==a)return a;if("0"==i&&"0"==a)return"0";if(i=n.length>=17?r[1].slice(0,r[1].length-1):r[1],"99"==i&&"0"!==a)return a+" 99/100";if("99"==i&&"0"==a)return"99/100";if(1-parseFloat("."+i)<.0011&&(i="999"),null==i)return a;let o=i.split("").reverse().join("").match(/^(\d+)\1{1,2}/);if(o&&i.length>2){let e=o[0].split("").reverse().join(""),n=o[1].split("").reverse().join("");if(n.length>1){let e=n.split(""),t=1;for(let n=0;n<e.length;n++)t/=e[0]/e[n];1===t&&(n=e[0])}return n.length>1&&n.length%2==0&&(n=parseInt(n.slice(0,n.length/2),10)-parseInt(n.slice(n.length/2,n.length),10)==0?n.slice(0,n.length/2):n),function(e,t,n,r,i){const a=e.length-n.length>=1?e.length-n.length:1,o=Math.pow(10,a),c=parseFloat("0."+e),s=Math.pow(10,t.length),l=Math.round((c*s-c)*Math.pow(10,a));return f(l,(s-1)*o,r,i,!0)}(i,n,e,a,t)}return function(e,t,n){const r=parseInt(e,10),i=Math.pow(10,e.length);return f(r,i,t,n,!1)}(i,a,t)}));var _=new class extends p{constructor(...e){super(...e),g(this,"_parentElement",document.querySelector(".recipe")),g(this,"_errorMessage","We could not find that recipe. Please try another one!"),g(this,"_message","")}addHandlerRender(e){["hashchange","load"].forEach(t=>window.addEventListener(t,e))}addHandlerUpdateServings(e){this._parentElement.addEventListener("click",(function(t){const n=t.target.closest(".btn--update-servings");if(!n)return;const{updateTo:r}=n.dataset;+r>0&&e(+r)}))}addHandlerAddBookmark(e){this._parentElement.addEventListener("click",(function(t){t.target.closest(".btn--bookmark")&&e()}))}_generateMarkup(){return'\n      <figure class="recipe__fig">\n        <img src="'.concat(this._data.image,'" alt="').concat(this._data.title,'" class="recipe__img" />\n        <h1 class="recipe__title">\n          <span>').concat(this._data.title,'</span>\n        </h1>\n      </figure>\n\n      <div class="recipe__details">\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="').concat(h,'#icon-clock"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--minutes">').concat(this._data.cookingTime,'</span>\n          <span class="recipe__info-text">minutes</span>\n        </div>\n        <div class="recipe__info">\n          <svg class="recipe__info-icon">\n            <use href="').concat(h,'#icon-users"></use>\n          </svg>\n          <span class="recipe__info-data recipe__info-data--people">').concat(this._data.servings,'</span>\n          <span class="recipe__info-text">servings</span>\n\n          <div class="recipe__info-buttons">\n            <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings-1,'">\n              <svg>\n                <use href="').concat(h,'#icon-minus-circle"></use>\n              </svg>\n            </button>\n            <button class="btn--tiny btn--update-servings" data-update-to="').concat(this._data.servings+1,'">\n              <svg>\n                <use href="').concat(h,'#icon-plus-circle"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class="recipe__user-generated ').concat(this._data.key?"":"hidden",'">\n          <svg>\n            <use href="').concat(h,'#icon-user"></use>\n          </svg>\n        </div>\n        <button class="btn--round btn--bookmark">\n          <svg class="">\n            <use href="').concat(h,"#icon-bookmark").concat(this._data.bookmarked?"-fill":"",'"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class="recipe__ingredients">\n        <h2 class="heading--2">Recipe ingredients</h2>\n        <ul class="recipe__ingredient-list">\n          ').concat(this._data.ingredients.map(this._generateMarkupIngredient).join(""),'\n      </div>\n\n      <div class="recipe__directions">\n        <h2 class="heading--2">How to cook it</h2>\n        <p class="recipe__directions-text">\n          This recipe was carefully designed and tested by\n          <span class="recipe__publisher">').concat(this._data.publisher,'</span>. Please check out\n          directions at their website.\n        </p>\n        <a\n          class="btn--small recipe__btn"\n          href="').concat(this._data.sourceUrl,'"\n          target="_blank"\n        >\n          <span>Directions</span>\n          <svg class="search__icon">\n            <use href="').concat(h,'#icon-arrow-right"></use>\n          </svg>\n        </a>\n      </div>\n    ')}_generateMarkupIngredient(e){return'\n    <li class="recipe__ingredient">\n      <svg class="recipe__icon">\n        <use href="'.concat(h,'#icon-check"></use>\n      </svg>\n      <div class="recipe__quantity">').concat(e.quantity?new v(e.quantity).toString():"",'</div>\n      <div class="recipe__description">\n        <span class="recipe__unit">').concat(e.unit,"</span>\n        ").concat(e.description,"\n      </div>\n    </li>\n  ")}};var m=new class{constructor(){var e,t,n;e=this,t="_parentEl",n=document.querySelector(".search"),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}getQuery(){const e=this._parentEl.querySelector(".search__field").value;return this._clearInput(),e}_clearInput(){this._parentEl.querySelector(".search__field").value=""}addHandlerSearch(e){this._parentEl.addEventListener("submit",(function(t){t.preventDefault(),e()}))}};var y=new class extends p{constructor(...e){var t,n,r;super(...e),r="",(n="_parentElement")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}_generateMarkup(){const e=window.location.hash.slice(1);return'\n      <li class="preview">\n        <a class="preview__link '.concat(this._data.id===e?"preview__link--active":"",'" href="#').concat(this._data.id,'">\n          <figure class="preview__fig">\n            <img src="').concat(this._data.image,'" alt="').concat(this._data.title,'" />\n          </figure>\n          <div class="preview__data">\n            <h4 class="preview__title">').concat(this._data.title,'</h4>\n            <p class="preview__publisher">').concat(this._data.publisher,'</p>\n            <div class="preview__user-generated ').concat(this._data.key?"":"hidden",'">\n              <svg>\n              <use href="').concat(h,'#icon-user"></use>\n              </svg>\n            </div>\n          </div>\n        </a>\n      </li>\n    ')}};function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=new class extends p{constructor(...e){super(...e),b(this,"_parentElement",document.querySelector(".results")),b(this,"_errorMessage","No recipes found for your query! Please try again ;)"),b(this,"_message","")}_generateMarkup(){return this._data.map(e=>y.render(e,!1)).join("")}};var k=new class extends p{constructor(...e){var t,n,r;super(...e),t=this,n="_parentElement",r=document.querySelector(".pagination"),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}addHandlerClick(e){this._parentElement.addEventListener("click",(function(t){const n=t.target.closest(".btn--inline");if(!n)return;const r=+n.dataset.goto;e(r)}))}_generateMarkup(){const e=this._data.page,t=Math.ceil(this._data.results.length/this._data.resultsPerPage);return 1===e&&t>1?'\n        <button data-goto="'.concat(e+1,'" class="btn--inline pagination__btn--next">\n          <span>Page ').concat(e+1,'</span>\n          <svg class="search__icon">\n            <use href="').concat(h,'#icon-arrow-right"></use>\n          </svg>\n        </button>\n      '):e===t&&t>1?'\n        <button data-goto="'.concat(e-1,'" class="btn--inline pagination__btn--prev">\n          <svg class="search__icon">\n            <use href="').concat(h,'#icon-arrow-left"></use>\n          </svg>\n          <span>Page ').concat(e-1,"</span>\n        </button>\n      "):e<t?'\n        <button data-goto="'.concat(e-1,'" class="btn--inline pagination__btn--prev">\n          <svg class="search__icon">\n            <use href="').concat(h,'#icon-arrow-left"></use>\n          </svg>\n          <span>Page ').concat(e-1,'</span>\n        </button>\n        <button data-goto="').concat(e+1,'" class="btn--inline pagination__btn--next">\n          <span>Page ').concat(e+1,'</span>\n          <svg class="search__icon">\n            <use href="').concat(h,'#icon-arrow-right"></use>\n          </svg>\n        </button>\n      '):""}};function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=new class extends p{constructor(...e){super(...e),E(this,"_parentElement",document.querySelector(".bookmarks__list")),E(this,"_errorMessage","No bookmarks yet. Find a nice recipe and bookmark it ;)"),E(this,"_message","")}addHandlerRender(e){window.addEventListener("load",e)}_generateMarkup(){return this._data.map(e=>y.render(e,!1)).join("")}};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=new class extends p{constructor(){super(),j(this,"_parentElement",document.querySelector(".upload")),j(this,"_message","Recipe was successfully uploaded :)"),j(this,"_window",document.querySelector(".add-recipe-window")),j(this,"_overlay",document.querySelector(".overlay")),j(this,"_btnOpen",document.querySelector(".nav__btn--add-recipe")),j(this,"_btnClose",document.querySelector(".btn--close-modal")),this._addHandlerShowWindow(),this._addHandlerHideWindow()}toggleWindow(){this._overlay.classList.toggle("hidden"),this._window.classList.toggle("hidden")}_addHandlerShowWindow(){this._btnOpen.addEventListener("click",this.toggleWindow.bind(this))}_addHandlerHideWindow(){this._btnClose.addEventListener("click",this.toggleWindow.bind(this)),this._overlay.addEventListener("click",this.toggleWindow.bind(this))}addHandlerUpload(e){this._parentElement.addEventListener("submit",(function(t){t.preventDefault();const n=[...new FormData(this)],r=Object.fromEntries(n);e(r)}))}_generateMarkup(){}};const S=async function(){try{const e=window.location.hash.slice(1);if(!e)return;_.renderSpinner(),w.update(s()),O.update(o.bookmarks),await async function(e){try{const t=await n("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/").concat(e,"?key=").concat("be8ccbb4-9f3c-4cae-b72e-2e298199d3f6"));o.recipe=c(t),o.bookmarks.some(t=>t.id===e)?o.recipe.bookmarked=!0:o.recipe.bookmarked=!1,console.log(o.recipe)}catch(e){throw console.error("".concat(e," ðŸ’¥ðŸ’¥ðŸ’¥ðŸ’¥")),e}}(e),_.render(o.recipe)}catch(e){_.renderError(),console.error(e)}},P=async function(){try{w.renderSpinner();const e=m.getQuery();if(!e)return;await async function(e){try{o.search.query=e;const t=await n("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?search=").concat(e,"&key=").concat("be8ccbb4-9f3c-4cae-b72e-2e298199d3f6"));console.log(t),o.search.results=t.data.recipes.map(e=>i({id:e.id,title:e.title,publisher:e.publisher,image:e.image_url},e.key&&{key:e.key})),o.search.page=1}catch(e){throw console.error("".concat(e," ðŸ’¥ðŸ’¥ðŸ’¥ðŸ’¥")),e}}(e),w.render(s()),k.render(o.search)}catch(e){console.log(e)}},x=function(e){w.render(s(e)),k.render(o.search)},M=function(e){!function(e){o.recipe.ingredients.forEach(t=>{t.quantity=t.quantity*e/o.recipe.servings}),o.recipe.servings=e}(e),_.update(o.recipe)},H=function(){o.recipe.bookmarked?function(e){const t=o.bookmarks.findIndex(t=>t.id===e);o.bookmarks.splice(t,1),e===o.recipe.id&&(o.recipe.bookmarked=!1),l()}(o.recipe.id):u(o.recipe),_.update(o.recipe),O.render(o.bookmarks)},q=function(){O.render(o.bookmarks)},T=async function(e){try{L.renderSpinner(),await async function(e){try{const t=Object.entries(e).filter(e=>e[0].startsWith("ingredient")&&""!==e[1]).map(e=>{const t=e[1].split(",").map(e=>e.trim());if(3!==t.length)throw new Error("Wrong ingredient fromat! Please use the correct format :)");const[n,r,i]=t;return{quantity:n?+n:null,unit:r,description:i}}),r={title:e.title,source_url:e.sourceUrl,image_url:e.image,publisher:e.publisher,cooking_time:+e.cookingTime,servings:+e.servings,ingredients:t},i=await n("".concat("https://forkify-api.herokuapp.com/api/v2/recipes/","?key=").concat("be8ccbb4-9f3c-4cae-b72e-2e298199d3f6"),r);o.recipe=c(i),u(o.recipe)}catch(e){throw e}}(e),console.log(o.recipe),_.render(o.recipe),L.renderMessage(),O.render(o.bookmarks),window.history.pushState(null,"","#".concat(o.recipe.id)),setTimeout((function(){L.toggleWindow()}),2500)}catch(e){console.error("ðŸ’¥",e),L.renderError(e.message)}};O.addHandlerRender(q),_.addHandlerRender(S),_.addHandlerUpdateServings(M),_.addHandlerAddBookmark(H),m.addHandlerSearch(P),k.addHandlerClick(x),L.addHandlerUpload(T);
//# sourceMappingURL=controller.e816de81.js.map
